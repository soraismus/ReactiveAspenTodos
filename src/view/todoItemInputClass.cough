{ createClass }      = require '../vendor/React'
{ $text }            = require '../vendor/adapters'
UpdatePostFocusMixin = require '../mixins/UpdatePostFocusMixin'

_todoItemInput = \index ->
  $text { index, label: 'todo-item-input' }

todoItemInputClass = createClass
  mixins: [UpdatePostFocusMixin]
  render: ->
    { editText, focus, index } = this.props
    _todoItemInput (index)
      autoPostFocus : focus
      className     : 'edit'
      defaultValue  : editText
      key           : 'todo-item-input' + index
      onBlur        : true
      onChange      : true
      onKeyDown     : true

module.exports = todoItemInputClass
