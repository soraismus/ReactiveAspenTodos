{ NAMESPACE } = require './namespace'
{ store }     = require './utilities'

activeCount = 0
count       = 0
editing     = null
mode        = 'all'

todos = []

isEmpty = \array -> array.length == 0

cachedState     = store NAMESPACE
defaultState    = { activeCount, count, editing, mode, todos }
initialAppState = if isEmpty cachedState then defaultState else cachedState

module.exports  = initialAppState
